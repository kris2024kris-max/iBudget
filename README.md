# iBudget - æ™ºèƒ½è®°è´¦åº”ç”¨

ä¸€ä¸ªç°ä»£åŒ–çš„è·¨å¹³å°è®°è´¦åº”ç”¨ï¼Œæ”¯æŒWebç«¯å’Œæ¡Œé¢ç«¯ã€‚é‡‡ç”¨Spring Boot + JavaFXæ¶æ„ï¼Œæä¾›å®Œæ•´çš„è´¦ç›®ç®¡ç†ã€æ™ºèƒ½é¢„ç®—ã€æ•°æ®åˆ†æå’ŒAIæ´å¯ŸåŠŸèƒ½ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**iBudget** æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„è®°è´¦è½¯ä»¶ï¼ŒåŒ…å«Webç•Œé¢å’Œæ¡Œé¢åº”ç”¨ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼Œæä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½:

### ğŸ§© æ ¸å¿ƒåŠŸèƒ½

#### 1. **è´¦ç›®ç®¡ç†**
- âœ… äº¤æ˜“è®°å½•çš„å¢åˆ æ”¹æŸ¥
- âœ… æ”¯å‡º/æ”¶å…¥ç±»å‹åˆ‡æ¢(æ‰å¹³åŒ–æŒ‰é’®ç»„)
- âœ… æ™ºèƒ½æ—¥å†é€‰æ‹©å™¨
- âœ… å®æ—¶è´¦ç›®åˆ—è¡¨æ˜¾ç¤º
- âœ… å¤šæ¡ä»¶è¿‡æ»¤(æ—¥æœŸèŒƒå›´ã€åˆ†ç±»ã€ç±»å‹)
- âœ… ç¼–è¾‘å’Œåˆ é™¤åŠŸèƒ½
- âœ… è‡ªåŠ¨åˆ·æ–°æœºåˆ¶

#### 2. **é¢„ç®—ç®¡ç†**
- âœ… åŒæ¨¡å¼é¢„ç®—: æœˆåº¦é¢„ç®— + å‘¨æœŸå‹é¢„ç®—
- âœ… å‘¨æœŸå‹é¢„ç®—æ”¯æŒ: å¤©/å‘¨/æœˆ/å¹´
- âœ… å®æ—¶ç»Ÿè®¡åˆ†æ:
  - å·²æ¶ˆè´¹é‡‘é¢
  - å‰©ä½™é¢„ç®—
  - æ—¥å‡é¢„ç®—é¢åº¦
  - å®é™…æ—¥å‡æ¶ˆè´¹
  - ä½¿ç”¨ç‡è¿›åº¦æ¡
- âœ… æ™ºèƒ½è¶…æ”¯é¢„æµ‹(åŸºäºæ—¥å‡æ¶ˆè´¹é€Ÿç‡)
- âœ… ä¸‰çº§é¢„è­¦ç³»ç»Ÿ:
  - âš ï¸ é¢„æµ‹è¶…æ”¯ (æŒ‰å½“å‰é€Ÿç‡ä¼šè¶…æ”¯)
  - ğŸ”´ å·²è¶…é¢ (å½“å‰å·²è¶…è¿‡é¢„ç®—)
  - âš ï¸ é¢„è­¦ (ä½¿ç”¨ç‡â‰¥80%)
- âœ… è¯¦ç»†ç»Ÿè®¡å¼¹çª—(13é¡¹æ•°æ®æŒ‡æ ‡)

#### 3. **æ•°æ®åŒæ­¥ä¸è®¤è¯**
- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•ç³»ç»Ÿ
- âœ… JWT Tokenè®¤è¯
- âœ… ç¦»çº¿æ•°æ®ç¼“å­˜
- âœ… REST APIæ¥å£
- âœ… Tokenè¿‡æœŸè‡ªåŠ¨å¤„ç†
- âœ… 403é”™è¯¯å‹å¥½æç¤º

#### 4. **å›¾è¡¨ä¸è¶‹åŠ¿åˆ†æ**
- âœ… æœˆåº¦æ”¯å‡ºæŸ±çŠ¶å›¾
- âœ… åˆ†ç±»æ”¯å‡ºé¥¼å›¾
- âœ… æ”¶æ”¯è¶‹åŠ¿æŠ˜çº¿å›¾
- âœ… å¤šç»´åº¦æ•°æ®å¯è§†åŒ–
- âœ… å›¾è¡¨å¯¼å‡ºåŠŸèƒ½

#### 5. **AIæ™ºèƒ½åˆ†æ** (æœ¬åœ°æ¨¡å‹)
- âœ… æ¶ˆè´¹ä¹ æƒ¯åˆ†æ
- âœ… æ™ºèƒ½å»ºè®®ç”Ÿæˆ
- âœ… å¼‚å¸¸æ”¯å‡ºæ£€æµ‹
- âœ… æœ¬åœ°AIæ¨¡å‹(æ— éœ€è”ç½‘)

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: Spring Boot 3.1.5
- **å®‰å…¨**: Spring Security + JWT
- **æ•°æ®åº“**: SQLite + JPA/Hibernate
- **API**: RESTfulé£æ ¼

### å‰ç«¯
- **Webç•Œé¢**: HTML5 + CSS3 + åŸç”ŸJavaScript
- **æ¡Œé¢ç«¯**: JavaFX 21
- **ä¸»é¢˜**: äº®è‰²/æš—è‰²æ¨¡å¼åˆ‡æ¢
- **UIè®¾è®¡**: æ‰å¹³åŒ–ç°ä»£é£æ ¼

### æ•°æ®ä¸å·¥å…·
- **æ•°æ®æ ¼å¼**: JSON
- **æ„å»ºå·¥å…·**: Maven
- **ç‰ˆæœ¬æ§åˆ¶**: Git

## ğŸ“ é¡¹ç›®ç»“æ„

```
iBudget-1/
â”œâ”€â”€ accounting-app/
â”‚   â”œâ”€â”€ pom.xml                              # Mavené…ç½®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/accounting/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AccountingApplication.java   # Spring Bootä¸»å…¥å£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ model/                       # æ•°æ®æ¨¡å‹å±‚
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Transaction.java         # äº¤æ˜“å®ä½“
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Budget.java              # é¢„ç®—å®ä½“(æ”¯æŒå‘¨æœŸå‹)
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ User.java                # ç”¨æˆ·å®ä½“
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserToken.java           # Tokenå®ä½“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ service/                     # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TransactionService.java  # äº¤æ˜“æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetService.java       # é¢„ç®—æœåŠ¡(å«ç»Ÿè®¡)
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserService.java         # ç”¨æˆ·æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ LocalAIAnalysisService.java # æœ¬åœ°AIåˆ†æ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ api/                          # REST APIæ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TransactionsController.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetController.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StatsController.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ repository/                   # JPAæ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TransactionRepository.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetRepository.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserRepository.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ config/                       # é…ç½®ç±»
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java       # Spring Securityé…ç½®
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ JwtAuthenticationFilter.java # JWTè¿‡æ»¤å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ filter/                       # è¿‡æ»¤è§„åˆ™
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FilterRule.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chart/                        # å›¾è¡¨ç”Ÿæˆ
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ComboBarChartView.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ui/                           # JavaFXæ¡Œé¢UI
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ MainApplication.java
â”‚   â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚   â”‚       â”œâ”€â”€ application.properties        # Spring Booté…ç½®
â”‚   â”‚   â”‚       â””â”€â”€ static/                       # Webé™æ€èµ„æº
â”‚   â”‚   â”‚           â”œâ”€â”€ index.html                # é¦–é¡µ
â”‚   â”‚   â”‚           â”œâ”€â”€ login.html                # ç™»å½•é¡µ
â”‚   â”‚   â”‚           â”œâ”€â”€ transactions.html         # è´¦ç›®ç®¡ç†é¡µ
â”‚   â”‚   â”‚           â”œâ”€â”€ budgets.html              # é¢„ç®—ç®¡ç†é¡µ
â”‚   â”‚   â”‚           â”œâ”€â”€ trends.html               # è¶‹åŠ¿åˆ†æé¡µ
â”‚   â”‚   â”‚           â””â”€â”€ charts.html               # å›¾è¡¨å±•ç¤ºé¡µ
â”‚   â”‚   â””â”€â”€ test/                                 # æµ‹è¯•ä»£ç 
â”‚   â””â”€â”€ accounting.db                             # SQLiteæ•°æ®åº“
â””â”€â”€ README.md
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **JDK**: 17 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Maven**: 3.6+
- **æµè§ˆå™¨**: Chrome/Firefox/Safari (æ”¯æŒES6)
- **æ“ä½œç³»ç»Ÿ**: Windows/Linux/macOS

### å®‰è£…ä¸è¿è¡Œ

#### æ–¹å¼ä¸€: Webç•Œé¢(æ¨è)

1. **ç¼–è¯‘é¡¹ç›®**
   ```bash
   cd accounting-app
   mvn clean compile
   ```

2. **å¯åŠ¨æœåŠ¡å™¨**
   ```bash
   mvn spring-boot:run
   ```
   
3. **è®¿é—®åº”ç”¨**
   - æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://localhost:8080`
   - é¦–æ¬¡ä½¿ç”¨éœ€è¦æ³¨å†Œè´¦å·
   - ç™»å½•åå³å¯ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½

#### æ–¹å¼äºŒ: æ¡Œé¢åº”ç”¨

**Windowsç³»ç»Ÿ:**
```bash
run-desktop.bat
```

**Linux/Macç³»ç»Ÿ:**
```bash
mvn exec:java -Dexec.mainClass="com.accounting.ui.MainApplication"
```

## ğŸ“– åŠŸèƒ½ä½¿ç”¨æŒ‡å—

### 1ï¸âƒ£ è´¦ç›®ç®¡ç† (/transactions.html)

**æ·»åŠ è´¦ç›®:**
1. é€‰æ‹©ç±»å‹(æ”¯å‡º/æ”¶å…¥) - ä½¿ç”¨æ‰å¹³åŒ–æŒ‰é’®åˆ‡æ¢
2. è¾“å…¥é‡‘é¢
3. å¡«å†™åˆ†ç±»(å¦‚: é¤é¥®ã€äº¤é€šã€å¨±ä¹)
4. æ·»åŠ æè¿°(å¯é€‰)
5. ç‚¹å‡»æ—¥æœŸè¾“å…¥æ¡†,ä½¿ç”¨æ™ºèƒ½æ—¥å†é€‰æ‹©æ—¥æœŸ
6. ç‚¹å‡»"ä¿å­˜è´¦ç›®"æŒ‰é’®
7. è´¦ç›®ä¼šç«‹å³æ˜¾ç¤ºåœ¨ä¸‹æ–¹åˆ—è¡¨ä¸­

**ç­›é€‰è´¦ç›®:**
- è®¾ç½®å¼€å§‹å’Œç»“æŸæ—¶é—´(æ ¼å¼: 2025-12-23T00:00:00)
- è¾“å…¥åˆ†ç±»åç§°
- é€‰æ‹©ç±»å‹(å…¨éƒ¨/æ”¯å‡º/æ”¶å…¥)
- ç‚¹å‡»"æ‰§è¡Œç­›é€‰"

**ç¼–è¾‘/åˆ é™¤:**
- ç‚¹å‡»è´¦ç›®åˆ—è¡¨ä¸­çš„"ç¼–è¾‘"æŒ‰é’®ä¿®æ”¹
- ç‚¹å‡»"åˆ é™¤"æŒ‰é’®ç§»é™¤è´¦ç›®

### 2ï¸âƒ£ é¢„ç®—ç®¡ç† (/budgets.html)

**åˆ›å»ºæœˆåº¦é¢„ç®—:**
1. ç‚¹å‡»"æœˆåº¦é¢„ç®—"æŒ‰é’®
2. é€‰æ‹©å¹´ä»½å’Œæœˆä»½
3. è¾“å…¥åˆ†ç±»(ç•™ç©ºåˆ™ä¸ºæ€»é¢„ç®—)
4. è®¾ç½®é¢„ç®—é‡‘é¢
5. ç‚¹å‡»"è®¾ç½®é¢„ç®—"

**åˆ›å»ºå‘¨æœŸå‹é¢„ç®—:**
1. ç‚¹å‡»"å‘¨æœŸå‹é¢„ç®—"æŒ‰é’®
2. é€‰æ‹©å¼€å§‹æ—¥æœŸ
3. é€‰æ‹©å‘¨æœŸå•ä½(å¤©/å‘¨/æœˆ/å¹´)
4. è®¾ç½®å‘¨æœŸæ•°é‡
5. è¾“å…¥é¢„ç®—é‡‘é¢
6. ç‚¹å‡»"åˆ›å»ºå‘¨æœŸå‹é¢„ç®—"

**æŸ¥çœ‹é¢„ç®—åˆ†æ:**
- é¢„ç®—åˆ—è¡¨è‡ªåŠ¨æ˜¾ç¤º:
  - é¢„ç®—é‡‘é¢
  - å·²æ¶ˆè´¹é‡‘é¢(ç»¿è‰²)
  - å‰©ä½™é‡‘é¢(çº¢è‰²è¡¨ç¤ºè¶…æ”¯)
  - æ—¥å‡é¢„ç®—
  - å®é™…æ—¥å‡æ¶ˆè´¹
  - ä½¿ç”¨ç‡è¿›åº¦æ¡
  - æ™ºèƒ½çŠ¶æ€(å¥åº·/é¢„è­¦/è¶…æ”¯/é¢„æµ‹è¶…æ”¯)
- ç‚¹å‡»"è¯¦æƒ…"æŒ‰é’®æŸ¥çœ‹å®Œæ•´çš„13é¡¹ç»Ÿè®¡æ•°æ®

### 3ï¸âƒ£ è¶‹åŠ¿åˆ†æ (/trends.html)

- æŸ¥çœ‹æœˆåº¦æ”¶æ”¯å¯¹æ¯”
- åˆ†ææ¶ˆè´¹è¶‹åŠ¿å˜åŒ–
- æŸ¥çœ‹åˆ†ç±»å æ¯”

### 4ï¸âƒ£ å›¾è¡¨å±•ç¤º (/charts.html)

- æŸ±çŠ¶å›¾: æœˆåº¦æ”¯å‡ºè¶‹åŠ¿
- é¥¼å›¾: åˆ†ç±»æ”¯å‡ºå æ¯”
- æŠ˜çº¿å›¾: æ”¶æ”¯å˜åŒ–æ›²çº¿
- æ”¯æŒå›¾è¡¨å¯¼å‡º

### 5ï¸âƒ£ ä¸»é¢˜åˆ‡æ¢

- ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ çš„"åˆ‡æ¢ä¸»é¢˜"æŒ‰é’®
- æ”¯æŒäº®è‰²/æš—è‰²ä¸¤ç§æ¨¡å¼
- è®¾ç½®ä¼šè‡ªåŠ¨ä¿å­˜

## ğŸ”Œ APIæ¥å£æ–‡æ¡£

### è®¤è¯ç›¸å…³

#### ç”¨æˆ·æ³¨å†Œ
```http
POST /api/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "email": "user@example.com",
  "password": "password123"
}
```

#### ç”¨æˆ·ç™»å½•
```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "testuser",
  "password": "password123"
}

å“åº”:
{
  "token": "eyJhbGciOiJIUzI1NiJ9...",
  "userId": "user-id"
}
```

### è´¦ç›®ç®¡ç†

#### è·å–è´¦ç›®åˆ—è¡¨
```http
GET /api/transactions?start=2025-01-01T00:00:00&end=2025-12-31T23:59:59&type=EXPENSE
Authorization: Bearer <token>
```

#### åˆ›å»ºè´¦ç›®
```http
POST /api/transactions
Authorization: Bearer <token>
Content-Type: application/json

{
  "type": "EXPENSE",
  "amount": 100.0,
  "categoryId": "é¤é¥®",
  "description": "åˆé¤",
  "date": "2025-12-23T12:00:00"
}
```

### é¢„ç®—ç®¡ç†

#### åˆ›å»ºå‘¨æœŸå‹é¢„ç®—
```http
POST /api/budgets
Authorization: Bearer <token>
Content-Type: application/json

{
  "userId": "user-id",
  "categoryId": "é¤é¥®",
  "amount": 1000.0,
  "startDate": "2025-12-01",
  "periodUnit": "MONTHS",
  "periodCount": 1,
  "year": 2025,
  "month": 12
}
```

#### è·å–é¢„ç®—ç»Ÿè®¡
```http
GET /api/budgets/stats/{budgetId}
Authorization: Bearer <token>

å“åº”:
{
  "budget": {...},
  "daysElapsed": 23,
  "totalDays": 31,
  "amountSpent": 650.0,
  "remaining": 350.0,
  "avgPerDayBudget": 32.26,
  "avgPerDayActual": 28.26,
  "projectedTotalByAvgSoFar": 875.87,
  "projectedRemainingByAvgSoFar": 124.13,
  "willBeOverspentByAvg": false,
  "last7DaysSpent": 180.0,
  "last30DaysSpent": 650.0
}
```

## ğŸ”§ é…ç½®è¯´æ˜

### application.properties

```properties
# æœåŠ¡å™¨é…ç½®
server.port=8080

# æ•°æ®åº“é…ç½®
spring.datasource.url=jdbc:sqlite:accounting.db
spring.datasource.driver-class-name=org.sqlite.JDBC
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect
spring.jpa.hibernate.ddl-auto=update

# JWTé…ç½®
jwt.secret=your-secret-key-here
jwt.expiration=86400000

# æ—¥å¿—é…ç½®
logging.level.root=INFO
logging.level.com.accounting=DEBUG
```

### æ•°æ®åº“Schemaä¿®å¤

å¦‚æœé‡åˆ°å‘¨æœŸå‹é¢„ç®—åˆ›å»ºå¤±è´¥(HTTP 500é”™è¯¯),éœ€è¦ä¿®å¤æ•°æ®åº“schema:

```sql
-- å¤‡ä»½æ•°æ®
CREATE TABLE budgets_backup AS SELECT * FROM budgets;

-- åˆ é™¤æ—§è¡¨
DROP TABLE budgets;

-- åˆ›å»ºæ–°è¡¨(period_unitä¸ºvarchar)
CREATE TABLE budgets (
    id varchar(255) not null,
    amount float not null,
    category_id varchar(255),
    created_at bigint,
    month integer not null,
    updated_at bigint,
    user_id varchar(255),
    year integer not null,
    period_count integer,
    period_unit varchar(20),
    start_date date,
    primary key (id)
);

-- æ¢å¤æ•°æ®
INSERT INTO budgets SELECT * FROM budgets_backup;
DROP TABLE budgets_backup;
```

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°åŠŸèƒ½

**è´¦ç›®ç®¡ç†:**
- [x] äº¤æ˜“è®°å½•å¢åˆ æ”¹æŸ¥
- [x] æ‰å¹³åŒ–ç±»å‹åˆ‡æ¢æŒ‰é’®(æ”¯å‡º/æ”¶å…¥)
- [x] æ™ºèƒ½æ—¥å†é€‰æ‹©å™¨
- [x] å®æ—¶è´¦ç›®åˆ—è¡¨æ˜¾ç¤º
- [x] å¤šæ¡ä»¶è¿‡æ»¤(æ—¥æœŸ/åˆ†ç±»/ç±»å‹)
- [x] è‡ªåŠ¨åˆ·æ–°æœºåˆ¶

**é¢„ç®—ç®¡ç†:**
- [x] æœˆåº¦é¢„ç®—è®¾ç½®
- [x] å‘¨æœŸå‹é¢„ç®—(å¤©/å‘¨/æœˆ/å¹´)
- [x] å®æ—¶ç»Ÿè®¡åˆ†æ(13é¡¹æŒ‡æ ‡)
- [x] æ™ºèƒ½è¶…æ”¯é¢„æµ‹
- [x] ä¸‰çº§é¢„è­¦ç³»ç»Ÿ
- [x] è¯¦ç»†ç»Ÿè®¡å¼¹çª—
- [x] å·²æ¶ˆè´¹/å‰©ä½™é‡‘é¢æ˜¾ç¤º
- [x] æ—¥å‡é¢„ç®—/å®é™…å¯¹æ¯”

**ç”¨æˆ·ç³»ç»Ÿ:**
- [x] ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- [x] JWT Tokenè®¤è¯
- [x] Tokenè¿‡æœŸè‡ªåŠ¨å¤„ç†
- [x] 403é”™è¯¯å‹å¥½æç¤º

**æ•°æ®åˆ†æ:**
- [x] æŸ±çŠ¶å›¾(æœˆåº¦è¶‹åŠ¿)
- [x] é¥¼å›¾(åˆ†ç±»å æ¯”)
- [x] æŠ˜çº¿å›¾(æ”¶æ”¯å˜åŒ–)
- [x] æœ¬åœ°AIæ™ºèƒ½åˆ†æ

**UI/UX:**
- [x] äº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢
- [x] æ‰å¹³åŒ–ç°ä»£è®¾è®¡
- [x] å“åº”å¼å¸ƒå±€
- [x] å¹³æ»‘åŠ¨ç”»è¿‡æ¸¡
- [x] ç»Ÿä¸€æŒ‰é’®ç»„æ ·å¼

### ğŸ”® æŠ€æœ¯äº®ç‚¹

- **æ™ºèƒ½é¢„ç®—ç®—æ³•**: åŸºäºæ—¥å‡æ¶ˆè´¹é€Ÿç‡çš„è¶…æ”¯é¢„æµ‹
- **åŒæ¨¡å¼é¢„ç®—**: æ”¯æŒä¼ ç»Ÿæœˆåº¦é¢„ç®—å’Œçµæ´»çš„å‘¨æœŸå‹é¢„ç®—
- **å‘¨æœŸè®¡ç®—å¼•æ“**: è‡ªåŠ¨è®¡ç®—é¢„ç®—èµ·æ­¢æ—¥æœŸå’Œæ€»å¤©æ•°
- **ç»Ÿè®¡åˆ†æç³»ç»Ÿ**: 13é¡¹å®æ—¶æ•°æ®æŒ‡æ ‡è®¡ç®—
- **æœ¬åœ°AIæ¨¡å‹**: ç¦»çº¿æ™ºèƒ½åˆ†æ,ä¿æŠ¤éšç§
- **JWTè®¤è¯**: å®‰å…¨çš„Tokenæœºåˆ¶
- **æ•°æ®åº“å…¼å®¹**: å‘åå…¼å®¹æ—§æ•°æ®ç»“æ„

## ğŸ› å¸¸è§é—®é¢˜

### 1. åˆ›å»ºå‘¨æœŸå‹é¢„ç®—å¤±è´¥(HTTP 500)

**é—®é¢˜**: æ•°æ®åº“schemaçº¦æŸå†²çª

**è§£å†³æ–¹æ¡ˆ**: 
```bash
# åœæ­¢æœåŠ¡å™¨
pkill -f accounting-app

# æ‰§è¡Œæ•°æ®åº“ä¿®å¤SQL(è§é…ç½®è¯´æ˜ç« èŠ‚)
sqlite3 accounting.db < fix-schema.sql

# é‡å¯æœåŠ¡å™¨
mvn spring-boot:run
```

### 2. ç™»å½•åæ˜¾ç¤ºHTTP 403é”™è¯¯

**åŸå› **: JWT Tokenè¿‡æœŸæˆ–æ— æ•ˆ

**è§£å†³æ–¹æ¡ˆ**: 
- ç³»ç»Ÿä¼šè‡ªåŠ¨æç¤º"ç™»å½•å·²è¿‡æœŸ,è¯·é‡æ–°ç™»å½•"
- é‡æ–°ç™»å½•å³å¯è·å–æ–°Token

### 3. æ—¥æœŸç­›é€‰ä¸ç”Ÿæ•ˆ

**åŸå› **: æ—¥æœŸæ ¼å¼ä¸æ­£ç¡®

**æ­£ç¡®æ ¼å¼**: `YYYY-MM-DDTHH:mm:ss`

**ç¤ºä¾‹**: `2025-12-23T00:00:00`

**æ³¨æ„**: å¼€å§‹å’Œç»“æŸæ—¶é—´å¿…é¡»åŒæ—¶å¡«å†™

### 4. JavaFXæ¡Œé¢åº”ç”¨å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ç¡®ä¿JDK 17+
java -version

# æ¸…ç†é‡æ–°ç¼–è¯‘
mvn clean compile

# ä½¿ç”¨Mavenè¿è¡Œ
mvn exec:java -Dexec.mainClass="com.accounting.ui.MainApplication"
```

## ğŸ“ å¼€å‘è¯´æ˜

### æ¶æ„è®¾è®¡

**åˆ†å±‚æ¶æ„:**
- **Controllerå±‚**: å¤„ç†HTTPè¯·æ±‚,å‚æ•°éªŒè¯
- **Serviceå±‚**: ä¸šåŠ¡é€»è¾‘,æ•°æ®è®¡ç®—
- **Repositoryå±‚**: JPAæ•°æ®è®¿é—®
- **Modelå±‚**: æ•°æ®å®ä½“å®šä¹‰
- **Configå±‚**: å®‰å…¨ã€JWTç­‰é…ç½®

**è®¾è®¡æ¨¡å¼:**
- **ç­–ç•¥æ¨¡å¼**: FilterRuleå®ç°å¤šæ¡ä»¶è¿‡æ»¤
- **Builderæ¨¡å¼**: Budgetç»Ÿè®¡æ•°æ®æ„å»º
- **å•ä¾‹æ¨¡å¼**: JWTå·¥å…·ç±»
- **è¿‡æ»¤å™¨æ¨¡å¼**: Spring Securityè®¤è¯é“¾

### å…³é”®æŠ€æœ¯å®ç°

**1. å‘¨æœŸå‹é¢„ç®—è®¡ç®—**
```java
public LocalDate getEndDate() {
    if (startDate == null || periodUnit == null || periodCount == null) 
        return null;
    switch (periodUnit) {
        case DAYS: return startDate.plusDays(periodCount - 1);
        case WEEKS: return startDate.plusWeeks(periodCount).minusDays(1);
        case MONTHS: return startDate.plusMonths(periodCount).minusDays(1);
        case YEARS: return startDate.plusYears(periodCount).minusDays(1);
    }
}
```

**2. è¶…æ”¯é¢„æµ‹ç®—æ³•**
```java
double avgPerDayActual = amountSpent / daysElapsed;
double projectedTotal = avgPerDayActual * totalDays;
boolean willBeOverspent = projectedTotal > budget.getAmount();
```

**3. JWTè®¤è¯æµç¨‹**
```java
// ç”ŸæˆToken
String token = jwtUtil.generateToken(username);

// éªŒè¯Token
if (jwtUtil.validateToken(token)) {
    String username = jwtUtil.getUsernameFromToken(token);
    // è®¾ç½®è®¤è¯ä¿¡æ¯
}
```

### è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Request!

**ä»£ç è§„èŒƒ:**
- ä½¿ç”¨é©¼å³°å‘½å
- ä¿æŒæ–¹æ³•ç®€æ´(<50è¡Œ)
- æ·»åŠ å¿…è¦æ³¨é‡Š
- éµå¾ªRESTful APIè§„èŒƒ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

- Spring Bootå›¢é˜Ÿæä¾›çš„ä¼˜ç§€æ¡†æ¶
- JavaFXç¤¾åŒºçš„æŠ€æœ¯æ”¯æŒ
- æ‰€æœ‰è´¡çŒ®è€…å’Œä½¿ç”¨è€…

## ğŸ“§ è”ç³»æ–¹å¼

- æäº¤Issue: [GitHub Issues](https://github.com/kris2024kris-max/iBudget/issues)
- é¡¹ç›®ä¸»é¡µ: [iBudget](https://github.com/kris2024kris-max/iBudget)

---

**iBudget** - è®©è®°è´¦å˜å¾—ç®€å•æ™ºèƒ½ ğŸ’°âœ¨

